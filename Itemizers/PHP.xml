<?xml version="1.0"?>
<itemizer>
	<!-- PHP Source; <?php ... ?>, <?= =?> -->
    <recipe name="source.block.php">
		<class>ESBaseItem</class>
		<start-selector>punctuation.section.embedded.begin.php:capture(name)</start-selector>
		<end-selector>punctuation.section.embedded.end.php:capture(name)</end-selector>
		<subrecipes>
			<include-root-recipes />
		</subrecipes>
	</recipe>
	
	<!-- Defining a custom class -->
	<recipe name="container.class">
		<class>ESBaseItem</class>
		<start-selector>container.class:has-child(current:has-child((name:capture(name))):capture(itemizer-firstused) + delimiter.balanced.curly-brace.begin</start-selector>
		<end-selector>delimiter.balanced.curly-brace.end</end-selector>
		<subrecipes>
			<include-root-recipes />
		</subrecipes>
	</recipe>
	
	<!-- Defining a custom function -->
	<recipe name="container.function">
		<class>ESBaseItem</class>
		<start-selector>container.function:has-child(name:capture(name)):capture(itemizer-firstused) + delimiter.balanced.curly-brace.begin</start-selector>
		<end-selector>delimiter.balanced.curly-brace.end</end-selector>
		<subrecipes>
			<include-root-recipes />
		</subrecipes>
	</recipe>
	
	<!-- Defining a magic function -->
	<recipe name="container.function.magic">
		<class>ESBaseItem</class>
		<start-selector>container.function.magic:has-child(name:capture(name)):capture(itemizer-firstused) + delimiter.balanced.curly-brace.begin</start-selector>
		<end-selector>delimiter.balanced.curly-brace.end</end-selector>
		<subrecipes>
			<include-root-recipes />
		</subrecipes>
	</recipe>
	
	<!-- Defining control structures; (if, else, switch, for, foreach...)-->
	<recipe name="control.hidden.php">
		<class>ESBaseItem</class>
		<start-selector>keyword.control:capture(name) ~ meta.brace.curly.open.php</start-selector>
		<end-selector>meta.brace.curly.close.php</end-selector>
		<subrecipes>
			<include-root-recipes />
		</subrecipes>
	</recipe>
	
	<!-- Defining an include -->
	<recipe name="include.php">
		<class>ESBaseItem</class>
		<selector>meta.include.php:has-child(string:has-child(string-contents:capture(name))):capture(itemizer-firstused)</selector>
	</recipe>
	
	<recipe name="comment.php">
		<class>ESCommentItem</class>
		<selector>comment</selector>
	</recipe>
	
</itemizer>